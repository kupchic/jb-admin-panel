const calendar=document.querySelector(".settings-blog__input-date");calendar&&$("#datepicker-input").datepicker({language:"en",autoClose:!0}),calendar&&$(".settings-blog__input-time").datepicker({language:"en",timepicker:!0,onlyTimepicker:!0,inline:!1});const hugeCalendar=document.querySelector(".calendar");var eventDates=[1,10,12,22],$picker=$("#custom-cells"),$content=$("#custom-cells-events"),sentences=["one","two"];hugeCalendar&&$("#datepicker-calendar").datepicker({language:"en",autoClose:!0,inline:!0,onRenderCell:function(e,t){var o=e.getDate();if("day"==t&&-1!=eventDates.indexOf(o))return{html:o+'<span class="dp-note"></span>'}},onSelect:function(e,t){var o="",c="";t&&-1!=eventDates.indexOf(t.getDate())&&(o=e,c=sentences[Math.floor(Math.random()*eventDates.length)]),$("strong",$content).html(o),$("p",$content).html(c)}});const accordion=(e,t)=>{var o=document.querySelectorAll(e);document.querySelectorAll(t);o.forEach(e=>{e.addEventListener("click",(function(e){let t=this.classList.contains("active");((e="active")=>{o.forEach(t=>{t.classList.remove(e)})})(),t||this.classList.add("active")}))})},openedBlock=(e,t)=>{const o=document.querySelectorAll(e),c=document.querySelectorAll(t);o.forEach((e,t)=>{e.addEventListener("click",(function(e){e.preventDefault(),c.forEach((e,o)=>{t===o?e.classList.toggle("active"):e.classList.remove("active")})}))})},tabs=(e,t,o,c,n="active")=>{const l=document.querySelector(e),i=document.querySelectorAll(t),a=document.querySelectorAll(o),d=document.querySelector(c),r=document.querySelector(".remodal-edit__counter-item");if(a&&i&&a&&d){function s(){a.forEach(e=>{e.style.display="none"}),i.forEach(e=>{e.classList.remove(n)})}function u(e=0){a[e].style.display="block",i[e].classList.add(n),i[e]===i[3]&&(d.textContent="save")}s(),u(),d.addEventListener("click",()=>{let e="must";i.forEach((t,o)=>{"must"!==e&&"need"!==e||("need"===e&&(t.click(),e="done"),t.classList.contains(n)&&"must"===e&&(e="need"))})}),l.addEventListener("click",e=>{const o=e.target;o&&(o.classList.contains(t.replace(/\./,""))||o.parentNode.classList.contains(t.replace(/\./,"")))&&i.forEach((e,t)=>{o!=e&&o.parentNode!=e||(s(),u(t),r.textContent=""+(t+1)),console.log(t)})})}};window.addEventListener("DOMContentLoaded",()=>{accordion(".sidebar__dropdown",".sidebar__submenu"),accordion(".submission-table__row",".wedding-edit"),accordion(".vendors-table__row",".plan-edit"),accordion(".colors-table__row",".color-edit"),accordion(".line-table__row",".edit-block"),accordion(".menu-table__row",".edit-block"),accordion(".highlights-table__row",".edit-block"),accordion(".gallery-table__row",".gallery-edit-block"),accordion(".social-table__row",".social-edit-block"),openedBlock(".media__edit-btn--popup",".remodal-post-photo__edit"),openedBlock(".media__preview--popup",".remodal-post-photo__edit"),openedBlock(".color__add-circle",".color__change"),openedBlock(".homepage-row",".edit-block"),openedBlock(".slider-row",".edit-block"),openedBlock(".table__edit",".plan-edit"),openedBlock(".reviews-table__row",".reviews-edit"),openedBlock(".vendors-list__row",".vendors-list__edit"),openedBlock(".table__row--post",".edit-block"),tabs(".remodal-edit__items",".remodal-edit__item",".remodal-edit__img",".btn-next"),tabs(".remodal-edit__items--popup",".remodal-edit__item--popup",".remodal-edit__img--popup",".btn-next--popup"),tabs(".gallery-edit-block__type",".category__btn",".gallery-edit-block__tab")});const template=document.getElementById("template");document.querySelector(".vendor-type__link")&&tippy(".vendor-type__link",{content:template.innerHTML,allowHTML:!0,interactive:!0});const templateTooltip=document.getElementById("templateTooltip");document.querySelector(".post-field__change-btn")&&tippy(".post-field__change-btn",{content:templateTooltip.innerHTML,allowHTML:!0,interactive:!0,placement:"right",interactiveBorder:50}),$(document).ready((function(){$("select").niceSelect()}));var simpleListItem=document.querySelector("#simpleList"),$sortable=null;if(simpleListItem){var fixHelper=function(e,t){return'<div class="sortable-helper"></div>'};$sortable=$("#simpleList").sortable({helper:fixHelper,axis:"y",handle:".post-field__change-btn",cursor:"move",revert:100,items:".post-field__sort-item",placeholder:"placeh ui-state-highlight-blue"})}var tableSort=document.querySelector("#tableSort");if(tableSort){fixHelper=function(e,t){return'<div class="sortable-helper"></div>'};$sortable=$("#tableSort").sortable({helper:fixHelper,axis:"y",handle:".table__change-btn",cursor:"move",revert:100,items:".table__sort-item",placeholder:"placeh ui-state-highlight-blue"})}const checkbox=document.querySelector(".checkbox-date"),rowDate=document.querySelector(".settings-blog__row--date"),textHidden=document.querySelector(".settings-blog__text--hidden"),rowMargin=document.querySelector(".settings-blog__row--margin");checkbox&&checkbox.addEventListener("change",(function(){this.checked?(rowDate.classList.add("active"),textHidden.style.display="none",rowMargin.style.marginBottom="0"):(rowDate.classList.remove("active"),textHidden.style.display="block",rowMargin.style.marginBottom="0")}));const favoriteBtns=document.querySelectorAll(".table__favorite");favoriteBtns&&favoriteBtns.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("checked")})});const checkBtnsTable=document.querySelectorAll(".table__check");checkBtnsTable&&checkBtnsTable.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("checked")})});const notificationIcon=document.querySelector(".notification-icon");if(notificationIcon){(()=>{let e=document.querySelector(".notification-icon svg"),t=document.querySelector(".notification");notificationIcon.addEventListener("click",()=>{t.classList.toggle("active")}),document.addEventListener("click",o=>{const c=o.target;c==t||t.contains(c)||(c==notificationIcon||c==e)||!t.classList.contains("active")||t.classList.remove("active")})})()}var textareaFields=document.querySelectorAll(".balloon"),text_changed=!1;if(textareaFields.length>0){function detectFocusOut(e){e.ui.focusTracker.on("change:isFocused",(t,o,c)=>{!c&&text_changed&&(text_changed=!1,updateEditor(e))})}function detectTextChanges(e){e.model.document.on("change:data",(t,o)=>{text_changed=!0,updateEditor(e)})}function updateEditor(e){let t=$(e.sourceElement);if(t){let o=t.attr("data-name"),c=$('textarea[name="'+o+'"]');c.val(e.getData()),c.trigger("change")}}textareaFields.forEach(e=>{BalloonEditor.create(e,{toolbar:{items:["bold","italic","|","undo","redo","|","link"]}}).then(e=>{window.CKEditor5=e,detectTextChanges(e),detectFocusOut(e)}).catch(e=>{console.error(e)})})}const addPostBtn=document.querySelector(".post-field-add"),postTypesBlock=document.querySelector(".post-field__add-tooltip");addPostBtn&&$(".post-field-add").click((function(){$(".post-field__add-tooltip").toggle("slow",(function(){}))}));const categoryBlock=document.querySelector(".blog-posts__category .category--blog");if(categoryBlock){var $bl=$(".blog-posts__category"),$th=$(".category--blog"),blW=$bl.outerWidth(),blSW=$bl[0].scrollWidth,wDiff=blSW/blW-1,mPadd=60,damp=20,mX=0,mX2=0,posX=0,mmAA=blW-2*mPadd,mmAAr=blW/mmAA;$bl.mousemove((function(e){mX=e.pageX-this.offsetLeft,mX2=Math.min(Math.max(0,mX-mPadd),mmAA)*mmAAr})),setInterval((function(){posX+=(mX2-posX)/damp,$th.css({marginLeft:-posX*wDiff})}),10)}function dropdownCardOpen(e,t,o,c){const n=document.querySelectorAll(e),l=document.querySelectorAll("[dd-num]"),i=document.querySelectorAll(t);n[0]&&(n.forEach((e,t)=>{let o=l[t];o.parentNode.style.height=o.clientHeight+"px",e.addEventListener("click",()=>{e.classList.contains(c)?(e.classList.remove(c),i[t].classList.remove(c),o.parentNode.style.height=o.clientHeight+"px"):(e.classList.add(c),i[t].classList.add(c),o.parentNode.style.height="0px")})}),i.forEach((e,t)=>{let o=l[t];e.addEventListener("click",()=>{e.classList.contains(c)?(e.classList.remove(c),n[t].classList.remove(c),o.parentNode.style.height=o.clientHeight+"px"):(e.classList.add(c),n[t].classList.add(c),o.parentNode.style.height="0px")})}))}$(".gallery-edit-block").each((function(){let e=$(this);e.find(".gallery-edit-block__tab").not(":first").hide(),e.find(".category__btn").click((function(){e.find(".category__btn").removeClass("active").eq($(this).index()).addClass("active"),e.find(".gallery-edit-block__tab").hide().eq($(this).index()).fadeIn()})).eq(0).addClass("active")})),(()=>{let e=document.querySelectorAll(".checkbox__input"),t=document.querySelector(".checkbox-all .checkbox__input"),o=document.querySelector(".table__add");e.forEach(e=>{e.addEventListener("change",(function(){e.checked?(o.classList.add("table__add--delete"),o.textContent="Delete"):(o.classList.remove("table__add--delete"),o.innerHTML='<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.375 7.6875C12.375 7.47656 12.1641 7.26562 11.9531 7.26562H8.85938V4.17188C8.85938 3.96094 8.64844 3.75 8.4375 3.75H7.3125C7.06641 3.75 6.89062 3.96094 6.89062 4.17188V7.26562H3.79688C3.55078 7.26562 3.375 7.47656 3.375 7.6875V8.8125C3.375 9.05859 3.55078 9.23438 3.79688 9.23438H6.89062V12.3281C6.89062 12.5742 7.06641 12.75 7.3125 12.75H8.4375C8.64844 12.75 8.85938 12.5742 8.85938 12.3281V9.23438H11.9531C12.1641 9.23438 12.375 9.05859 12.375 8.8125V7.6875ZM15.75 2.0625C15.75 1.14844 14.9766 0.375 14.0625 0.375H1.6875C0.738281 0.375 0 1.14844 0 2.0625V14.4375C0 15.3867 0.738281 16.125 1.6875 16.125H14.0625C14.9766 16.125 15.75 15.3867 15.75 14.4375V2.0625ZM14.0625 14.2266C14.0625 14.3672 13.957 14.4375 13.8516 14.4375H1.89844C1.75781 14.4375 1.6875 14.3672 1.6875 14.2266V2.27344C1.6875 2.16797 1.75781 2.0625 1.89844 2.0625H13.8516C13.957 2.0625 14.0625 2.16797 14.0625 2.27344V14.2266Z" fill="currentColor" /> </svg>Add')}))}),t&&(t.onchange=function(t){for(var o=t.target||t.srcElement,c=0;c<e.length;c++)o.checked?e[c].checked=!0:e[c].checked=!1})})(),$(".post-field__add-absolute").click((function(){$(".post-field__add-tooltip--sticky").toggle("slide"),$(".post-field__add--svg")})),$(document).click((function(){var e=$(".post-field__add-absolute");e.is(event.target)||e.has(event.target).length||$(".post-field__add-tooltip--sticky").hide("slide",{direction:"left"},800)})),dropdownCardOpen(".dd-open-btn",".dd-title",".dd","active");const colorPickerBtns=document.querySelectorAll(".color__add-circle");function pickerOpen(e){let t=document.querySelector(".color__change.active");e.target.classList.contains("color__add-circle")||!t||e.target.closest(".color__change.active")||(t.classList.remove("active"),document.removeEventListener("click",pickerOpen))}colorPickerBtns.forEach((e,t)=>{e.addEventListener("click",()=>{document.addEventListener("click",pickerOpen)})});